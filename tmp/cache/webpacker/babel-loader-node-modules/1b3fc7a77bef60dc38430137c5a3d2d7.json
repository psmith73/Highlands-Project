{"ast":null,"code":"var _jsxFileName = \"/Users/phil/Desktop/rails_react/app/javascript/components/Form.jsx\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Header from './Header';\nimport Properties from './Properties';\nimport MessageContainer from './MessageContainer';\n\nvar Form = /*#__PURE__*/function (_Component) {\n  _inherits(Form, _Component);\n\n  var _super = _createSuper(Form);\n\n  function Form(props) {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    _this = _super.call(this, props);\n\n    _this.submitData = function () {\n      fetch(\"/send_data\", {\n        method: 'POST',\n        body: JSON.stringify({\n          name: _this.state.name,\n          upc: _this.state.upc,\n          availableOn: _this.state.availableOn,\n          properties: _this.state.properties\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'same-origin'\n      }).then(function (response) {\n        if (response.status !== 204) {\n          _this.setState({\n            error: true\n          });\n\n          return;\n        } else {\n          _this.refs.name.value = '';\n          _this.refs.upc.value = '';\n          _this.refs.date.value = '';\n\n          _this.setState({\n            name: '',\n            upc: '',\n            availableOn: '',\n            propertyName: '',\n            propertyValue: '',\n            properties: [],\n            error: false,\n            saved: true\n          });\n\n          setTimeout(function () {\n            _this.setState({\n              saved: false\n            });\n          }, 5000);\n        }\n\n        return response.json;\n      });\n    };\n\n    _this.clickHandler = function (e) {\n      e.preventDefault();\n\n      if (e.target.id === 'save') {\n        _this.submitData();\n      }\n\n      if (e.target.id === 'properties') {\n        _this.updateProperties();\n      }\n    };\n\n    _this.updateProperties = function (e) {\n      var propertyObj = {\n        name: _this.state.propertyName,\n        value: _this.state.propertyValue\n      };\n\n      _this.setState({\n        properties: _this.state.properties.concat(propertyObj)\n      });\n\n      _this.setState({\n        propertyName: ''\n      });\n\n      _this.setState({\n        propertyValue: ''\n      });\n\n      _this.refs.propertyName.value = '';\n      _this.refs.propertyValue.value = '';\n    };\n\n    _this.state = {\n      name: '',\n      upc: '',\n      availableOn: '',\n      propertyName: '',\n      propertyValue: '',\n      properties: [],\n      error: false,\n      saved: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      if (e.target.name === 'name') {\n        this.setState({\n          name: e.target.value\n        });\n      }\n\n      if (e.target.name === 'upc') {\n        this.setState({\n          upc: e.target.value\n        });\n      }\n\n      if (e.target.name === 'date') {\n        this.setState({\n          availableOn: e.target.value\n        });\n      }\n\n      if (e.target.name === 'propertyName') {\n        this.setState({\n          propertyName: e.target.value\n        });\n      }\n\n      if (e.target.name === 'propertyValue') {\n        this.setState({\n          propertyValue: e.target.value\n        });\n      }\n    } //sends data to POST route.\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(MessageContainer, {\n        properties: this.state.error,\n        saved: this.state.saved,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        title: \"create a product\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 29\n        }\n      }, \"Product name\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        ref: \"name\",\n        name: \"name\",\n        className: \"form-control\",\n        required: true,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 29\n        }\n      }, \"UPC\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        ref: \"upc\",\n        name: \"upc\",\n        className: \"form-control\",\n        required: true,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 29\n        }\n      }, \"Available On\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"date\",\n        ref: \"date\",\n        placeholder: \"mm/dd/yyyy\",\n        required: true,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Header, {\n        title: \"Properties\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"property_container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 33\n        }\n      }, \"Property Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"propertyName\",\n        ref: \"propertyName\",\n        className: \"form-control\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 33\n        }\n      }, \"Property Value\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"propertyValue\",\n        ref: \"propertyValue\",\n        className: \"form-control\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"button\",\n        id: \"properties\",\n        onClick: this.clickHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 25\n        }\n      }, \"Add Properties\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"button\",\n        id: \"save\",\n        onClick: this.clickHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }\n      }, \"Save\")), /*#__PURE__*/React.createElement(Properties, {\n        properties: this.state.properties,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Link, {\n        to: \"/listing\",\n        className: \"btn btn-lg custom-button\",\n        role: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }\n      }, \"View Products\")));\n    }\n  }]);\n\n  return Form;\n}(Component);\n\nexport default Form;","map":{"version":3,"sources":["/Users/phil/Desktop/rails_react/app/javascript/components/Form.jsx"],"names":["React","Component","Link","Header","Properties","MessageContainer","Form","props","submitData","fetch","method","body","JSON","stringify","name","state","upc","availableOn","properties","headers","credentials","then","response","status","setState","error","refs","value","date","propertyName","propertyValue","saved","setTimeout","json","clickHandler","e","preventDefault","target","id","updateProperties","propertyObj","concat","handleChange","bind","onSubmit"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Header from './Header';\nimport Properties from './Properties'\nimport MessageContainer from './MessageContainer';\n\n\nclass Form extends Component {\n    constructor(props) {\n        super(props);\n    \n        this.state = {\n          name: '',\n          upc: '',\n          availableOn: '',\n          propertyName: '',\n          propertyValue: '',\n          properties: [],\n          error: false,\n          saved: false\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n    \n    handleChange(e) {\n    if (e.target.name === 'name') {\n        this.setState({ name: e.target.value });\n    }\n    if (e.target.name === 'upc') {\n        this.setState({ upc: e.target.value });\n    }\n    if (e.target.name === 'date') {\n        this.setState({ availableOn: e.target.value });\n    }\n    if (e.target.name === 'propertyName') {\n        this.setState({ propertyName: e.target.value });\n    }\n    if (e.target.name === 'propertyValue') {\n        this.setState({ propertyValue: e.target.value });\n    }\n    }\n    \n    //sends data to POST route.\n    submitData = () => {\n        fetch(`/send_data`, {\n            method: 'POST',\n            body: JSON.stringify({\n            name: this.state.name,\n            upc: this.state.upc,\n            availableOn: this.state.availableOn,\n            properties: this.state.properties\n            }),\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            credentials: 'same-origin'\n        }).then(response => {\n         \n            if (response.status !== 204) {\n            this.setState({ error: true });\n            return;\n            } else {\n           \n            this.refs.name.value = '';\n            this.refs.upc.value = '';\n            this.refs.date.value = '';\n            this.setState({\n                name: '',\n                upc: '',\n                availableOn: '',\n                propertyName: '',\n                propertyValue: '',\n                properties: [],\n                error: false,\n                saved: true\n            });\n            \n            setTimeout(() => {\n                this.setState({ saved: false });\n            }, 5000);\n            }\n\n            return response.json;\n        });\n    };\n    \n   \n    clickHandler = (e) => {\n        e.preventDefault();\n        if (e.target.id === 'save') {\n            this.submitData();\n        }\n        if (e.target.id === 'properties') {\n            this.updateProperties();\n        }\n    };\n    \n   \n    updateProperties = (e) => {\n        const propertyObj = {\n          name: this.state.propertyName,\n          value: this.state.propertyValue\n        };\n      \n        this.setState({ properties: this.state.properties.concat(propertyObj) });\n        this.setState({ propertyName: '' });\n        this.setState({ propertyValue: '' });\n        this.refs.propertyName.value = '';\n        this.refs.propertyValue.value = '';\n    };\n\n\n\n    render() {\n        return (\n            <React.Fragment>\n                <MessageContainer\n                properties={this.state.error}\n                saved={this.state.saved}\n                />\n\n                <div className='product-form'>\n                    <Header \n                        title='create a product'\n                    />\n\n                    <form onSubmit={this.onSubmit}>\n                        <div className=\"form-group\">\n                            <label>Product name</label>\n                            <input\n                            type=\"text\"\n                            ref=\"name\"\n                            name=\"name\"\n                            className=\"form-control\"\n                            required\n                            onChange={this.handleChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>UPC</label>\n                            <input\n                            type=\"text\"\n                            ref=\"upc\"\n                            name=\"upc\"\n                            className=\"form-control\"\n                            required\n                            onChange={this.handleChange}\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Available On</label>\n                            <input\n                                type='text'\n                                className=\"form-control\"\n                                name=\"date\"\n                                ref=\"date\"\n                                placeholder=\"mm/dd/yyyy\"\n                                required\n                                onChange={this.handleChange}\n                            />\n                        </div>\n\n                        <Header\n                            title=\"Properties\"\n                        />\n                        <div className=\"property_container\">\n                            <div className=\"form-group\">\n                                <label>Property Name</label>\n                                <input\n                                type=\"text\"\n                                name=\"propertyName\"\n                                ref=\"propertyName\"\n                                className=\"form-control\"\n                                onChange={this.handleChange}\n                                />\n                            </div>\n                            <div className=\"form-group\">\n                                <label>Property Value</label>\n                                <input\n                                type=\"text\"\n                                name=\"propertyValue\"\n                                ref=\"propertyValue\"\n                                className=\"form-control\"\n                                onChange={this.handleChange}\n                                />\n                            </div>\n                        </div>\n                        <button \n                        className=\"button\"\n                        id=\"properties\" \n                        onClick={this.clickHandler}>\n                        Add Properties\n                        </button>\n\n                        <button \n                        className=\"button\"\n                        id=\"save\" \n                        onClick={this.clickHandler}>\n                        Save\n                        </button>\n                    </form> \n\n                    <Properties \n                    properties={this.state.properties} \n                    />\n\n                    <Link\n                        to=\"/listing\"\n                        className=\"btn btn-lg custom-button\"\n                        role=\"button\"\n                    >\n                    View Products\n                    </Link>\n\n                </div>\n                \n            </React.Fragment>\n            \n        )\n    }\n}\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}